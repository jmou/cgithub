<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title><%= it.repo.owner %>/<%= it.repo.name %> - <%= it.path || 'root' %></title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <header>
    <h1><%= it.repo.owner %>/<%= it.repo.name %></h1>
    <div>branch: <%= it.branch %></div>
    <% if (it.path) { %>
      <div>
        path: <a href="/<%= it.repo.owner %>/<%= it.repo.name %>/tree/<%= it.branch %>">root</a><%
        const pathParts = it.path.split('/').filter(p => p);
        let currentPath = '';
        for (const part of pathParts) {
          currentPath += (currentPath ? '/' : '') + part;
        %>/<a href="/<%= it.repo.owner %>/<%= it.repo.name %>/tree/<%= it.branch %>/<%= currentPath %>"><%= part %></a><%
        } %>
      </div>
    <% } %>
  </header>

  <table>
    <% for (const item of it.items) { %>
      <tr>
        <td>
          <span class="icon"><%= item.contentType === 'directory' ? 'ðŸ“' : 'ðŸ“„' %></span>
          <% if (item.contentType === 'directory') { %>
            <a href="/<%= it.repo.owner %>/<%= it.repo.name %>/tree/<%= it.branch %>/<%= item.path %>"><%= item.name %></a>
          <% } else { %>
            <%= item.name %>
          <% } %>
        </td>
      </tr>
    <% } %>
  </table>

  <footer>Generated by cgithub</footer>
</body>
</html>
